document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('map').setView([40.49, -104.99], 8);

    L.tileLayer('https://api.mapbox.com/styles/v1/selinn/cjefqhiko54yv2snpmaf25alo/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic2VsaW5uIiwiYSI6ImNpaDZrdm93ZjAxM2V1Ym1haWt6ajAxNm8ifQ.LRNG2yVRAmX688lpbp6lpg',
                {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
        maxZoom: 18
    }).addTo(map);

    map.on('mousemove', showLatLng);
    function showLatLng(e) {
        document.getElementById("whereIsThis").innerText = (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5);
    }
    document.getElementById("goToFRCCBoulder").onclick = function(){
        map.setView([40.1386, -105.12793], 14);
    };

    document.getElementById("goToRMNP").onclick = function(){
        map.setView([40.4, -105.8], 10);
    };

    function onMapClick(e) {
        var popup = L.popup()
        .setLatLng(e.latlng)
        .setContent("<center><img src='http://dev.brightrain.com/recreationer/images/icon-map-marker.png'></center><h4>" + (e.latlng.lat).toFixed(4) + " | " + (e.latlng.lng).toFixed(4) + "</h4>")
        .openOn(map);
    }

    map.on('click', onMapClick);

    var geojsonIPLakes = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#ff0080",
                    "fill-opacity": 0.5,
                    "Name": "Crater Lake"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.66118240356445,
                                40.07738183766717
                            ],
                            [
                                -105.66199779510498,
                                40.07702062118431
                            ],
                            [
                                -105.66240549087524,
                                40.07703704015691
                            ],
                            [
                                -105.66283464431763,
                                40.07726690535772
                            ],
                            [
                                -105.66309213638306,
                                40.077365418777696
                            ],
                            [
                                -105.66345691680908,
                                40.07729974318022
                            ],
                            [
                                -105.66506624221802,
                                40.07642953553386
                            ],
                            [
                                -105.66543102264404,
                                40.0759697987031
                            ],
                            [
                                -105.66596746444702,
                                40.0758384447528
                            ],
                            [
                                -105.66650390625,
                                40.07549363942784
                            ],
                            [
                                -105.66676139831543,
                                40.075132412929136
                            ],
                            [
                                -105.66673994064331,
                                40.07475476499548
                            ],
                            [
                                -105.66643953323364,
                                40.07418007933913
                            ],
                            [
                                -105.6660532951355,
                                40.07385168535817
                            ],
                            [
                                -105.6654953956604,
                                40.073983043140586
                            ],
                            [
                                -105.66407918930054,
                                40.07447563256809
                            ],
                            [
                                -105.66292047500609,
                                40.07500105736365
                            ],
                            [
                                -105.66165447235107,
                                40.07554289743829
                            ],
                            [
                                -105.66169738769531,
                                40.076019056369134
                            ],
                            [
                                -105.66186904907227,
                                40.07649521197062
                            ],
                            [
                                -105.661461353302,
                                40.07703704015691
                            ],
                            [
                                -105.66118240356445,
                                40.07738183766717
                            ]
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#ff0080",
                    "fill-opacity": 0.5,
                    "Name": "Pawnee Lake"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.64521789550781,
                                40.08747870479082
                            ],
                            [
                                -105.64573287963867,
                                40.087413038948256
                            ],
                            [
                                -105.6459903717041,
                                40.08726529057087
                            ],
                            [
                                -105.64624786376953,
                                40.08652654387368
                            ],
                            [
                                -105.6464409828186,
                                40.085640037254485
                            ],
                            [
                                -105.64676284790039,
                                40.08524603060692
                            ],
                            [
                                -105.64680576324461,
                                40.08485202167897
                            ],
                            [
                                -105.64702033996582,
                                40.08450726199637
                            ],
                            [
                                -105.64687013626099,
                                40.08396549325337
                            ],
                            [
                                -105.6465482711792,
                                40.08376848536879
                            ],
                            [
                                -105.64579725265503,
                                40.08394907595141
                            ],
                            [
                                -105.64532518386841,
                                40.084589347793454
                            ],
                            [
                                -105.64493894577026,
                                40.08545945115741
                            ],
                            [
                                -105.64504623413086,
                                40.086329543400424
                            ],
                            [
                                -105.64532518386841,
                                40.08710112533102
                            ],
                            [
                                -105.64521789550781,
                                40.08747870479082
                            ]
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#ff0000",
                    "fill-opacity": 0.5,
                    "Name": "Lake Isabelle"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.61712980270386,
                                40.07061692002956
                            ],
                            [
                                -105.617516040802,
                                40.07040345295449
                            ],
                            [
                                -105.61852455139159,
                                40.07023924705687
                            ],
                            [
                                -105.6199836730957,
                                40.06981230987042
                            ],
                            [
                                -105.62090635299683,
                                40.069631681793645
                            ],
                            [
                                -105.62176465988159,
                                40.06900769020649
                            ],
                            [
                                -105.62275171279907,
                                40.06851506123146
                            ],
                            [
                                -105.62330961227417,
                                40.06812095548626
                            ],
                            [
                                -105.62303066253662,
                                40.067661162568264
                            ],
                            [
                                -105.6226658821106,
                                40.06733273715529
                            ],
                            [
                                -105.62174320220947,
                                40.06743126494544
                            ],
                            [
                                -105.62047719955443,
                                40.06771042624364
                            ],
                            [
                                -105.61989784240723,
                                40.06802242869367
                            ],
                            [
                                -105.61933994293213,
                                40.06812095548626
                            ],
                            [
                                -105.61867475509644,
                                40.06823590323081
                            ],
                            [
                                -105.61798810958862,
                                40.06821948213632
                            ],
                            [
                                -105.61712980270386,
                                40.06838369290307
                            ],
                            [
                                -105.61665773391724,
                                40.06869569226934
                            ],
                            [
                                -105.61577796936035,
                                40.069024111110984
                            ],
                            [
                                -105.6151556968689,
                                40.06925400335798
                            ],
                            [
                                -105.61474800109863,
                                40.06925400335798
                            ],
                            [
                                -105.61410427093506,
                                40.069598840273656
                            ],
                            [
                                -105.61365365982056,
                                40.0699765167973
                            ],
                            [
                                -105.6140398979187,
                                40.07014072332828
                            ],
                            [
                                -105.61446905136108,
                                40.0699765167973
                            ],
                            [
                                -105.61491966247557,
                                40.07002577879815
                            ],
                            [
                                -105.61522006988524,
                                40.06991083407406
                            ],
                            [
                                -105.61554193496704,
                                40.06984515128746
                            ],
                            [
                                -105.61601400375366,
                                40.07002577879815
                            ],
                            [
                                -105.61642169952393,
                                40.07005862011226
                            ],
                            [
                                -105.61667919158936,
                                40.07014072332828
                            ],
                            [
                                -105.61710834503174,
                                40.07032135005518
                            ],
                            [
                                -105.61712980270386,
                                40.07061692002956
                            ]
                        ]
                    ]
                }
            }
        ]
    }



    L.geoJSON(geojsonIPLakes).addTo(map); /*
    your code will go here
    this is the event callback function that is called when the document content has been loaded
    we need our map container to be ready before dropping our map in, for example
    *this is new as js bin takes care of this for you
    */

});